# 국토부 실거래 API + Streamlit 기반 시세 조회 서비스 개발 보고서

## 1. 프로젝트 개요

국토교통부 실거래가 공개 API를 활용하여 사용자가 원하는 지역의 아파트 실거래가 정보를 조회하고, Streamlit을 통해 시각적으로 보여주는 웹 애플리케이션을 개발합니다. 4시간 내에 MVP(Minimum Viable Product)를 완성하는 것을 목표로 합니다.

## 2. 개발 방향 피벗 (Pivot)

### 2.1. 초기 접근: 크롤링 방식의 한계

최초에는 네이버 부동산, 직방 등 상용 부동산 플랫폼의 웹 페이지를 직접 크롤링하여 매물 정보를 수집하는 방식을 시도했습니다.

*   **시도 1 (네이버 부동산):** 동적 웹페이지(Dynamic Web Page) 특성상 `requests`와 `BeautifulSoup` 라이브러리만으로는 원하는 데이터를 안정적으로 수집하기 어려웠습니다.
*   **시도 2 (직방):** 직방 역시 동적 웹페이지이며, 매물 정보는 내부 API를 통해 비동기적으로 로드되었습니다. 공개되지 않은 비공식 API를 분석하여 사용하는 것은 서비스 약관 위반의 소지가 있고, API 구조가 변경될 경우 서비스가 중단될 위험이 매우 큽니다.

이러한 기술적, 정책적 문제로 인해 크롤링 기반의 데이터 수집은 4시간이라는 제한된 시간 내에 안정적인 서비스를 만들기에는 부적합하다고 판단했습니다.

### 2.2. 새로운 전략: 공공 데이터 API 활용

위의 한계를 극복하고 안정적인 데이터 소스를 확보하기 위해, **국토교통부에서 제공하는 실거래가 공개 API**를 활용하는 것으로 개발 방향을 변경합니다. 또한, 복잡한 프론트엔드/백엔드 구조 대신 Python만으로 빠르게 데이터 기반 웹 애플리케이션을 만들 수 있는 **Streamlit** 프레임워크를 사용하기로 결정했습니다.

**장점:**
*   **안정성:** 국가에서 공식적으로 제공하는 API이므로 데이터의 신뢰성과 공급의 안정성이 높습니다.
*   **합법성:** 서비스 약관 위반의 우려 없이 합법적으로 데이터를 이용할 수 있습니다.
*   **개발 효율성:** Streamlit을 사용하여 데이터 분석 및 시각화에 집중할 수 있어 MVP 개발 시간을 단축할 수 있습니다.

## 3. 데이터 스키마 (국토부 API 기반)

국토교통부 API가 제공하는 정보를 기반으로 다음과 같이 스키마를 정의합니다. (API 명세에 따라 변경될 수 있음)

| 필드 명 | 데이터 타입 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| `거래금액` | 문자열 | 거래된 가격 (만원) | "120,000" |
| `건축년도` | 정수 | 아파트 건축 연도 | 2008 |
| `년`, `월`, `일` | 정수 | 거래 시점 | 2023, 10, 26 |
| `법정동` | 문자열 | 주소 (동) | "역삼동" |
| `아파트` | 문자열 | 아파트 이름 | "개나리래미안" |
| `전용면적` | 실수 | 전용 면적 (㎡) | 84.98 |
| `층` | 정수 | 해당 층수 | 11 |

## 5. Streamlit 애플리케이션 개선

기본적인 MVP 기능 구현 후, 사용자 경험을 개선하고 더 나은 데이터 인사이트를 제공하기 위해 다음과 같은 개선 작업을 진행했습니다.

### 5.1. UI/UX 개선

*   **사이드바 도입:** 조회 조건을 사이드바로 옮겨 메인 화면을 데이터 표와 시각화에 집중할 수 있도록 레이아웃을 정리했습니다.
*   **법정동 코드 검색 링크 추가:** 사용자가 법정동 코드를 쉽게 찾을 수 있도록 외부 검색 페이지로 연결되는 하이퍼링크를 추가했습니다.
*   **입력 위젯 개선:** 계약년월 입력을 텍스트 방식에서 `st.date_input` 위젯으로 변경하여 사용자가 더 직관적으로 날짜를 선택할 수 있도록 개선했습니다.
*   **결과 표시 탭(Tabs) 도입:** 조회된 결과를 '데이터 표'와 '요약 및 시각화' 탭으로 분리하여 사용자가 원하는 정보를 선택적으로 볼 수 있도록 구성했습니다.

### 5.2. 성능 최적화

*   **API 응답 캐싱:** Streamlit의 `@st.cache_data` 데코레이터를 `get_api_data` 함수에 적용했습니다. 이를 통해 동일한 조건으로 재조회할 경우, 불필요한 API 호출을 방지하고 이전에 저장된 데이터를 즉시 보여주어 응답 속도를 크게 향상시켰습니다.

### 5.3. 데이터 시각화 강화

*   **기본 통계 정보 제공:** 전체 거래 건수, 평균/최고/최저 거래가격을 계산하여 `st.metric` 컴포넌트를 통해 시각적으로 강조하여 보여줍니다.
*   **다양한 차트 추가:**
    *   **거래금액 히스토그램:** 거래금액의 분포를 한눈에 파악할 수 있는 히스토그램을 추가했습니다.
    *   **전용면적 대비 거래금액 산점도:** 아파트 전용면적과 거래금액 사이의 관계를 파악할 수 있는 산점도를 추가하여 데이터에 대한 다각적인 분석을 가능하게 했습니다.
*   **한글 폰트 설정:** `matplotlib` 차트에서 한글이 깨지지 않도록 NanumGothic 폰트를 설치하고 적용했습니다.

## 6. 다음 단계

*   **GitHub 레포지토리 생성:** 코드 버전 관리 및 배포를 위해 GitHub에 공개 레포지토리를 생성합니다.
*   **Streamlit Community Cloud 배포:** 생성된 GitHub 레포지토리를 활용하여 Streamlit Community Cloud에 웹 애플리케이션을 배포하여 누구나 접근할 수 있는 공개 링크를 생성합니다.
*   **최종 보고서 정리:** 배포된 링크를 보고서에 추가하고, 전체 개발 과정을 정리하여 프로젝트를 마무리합니다.